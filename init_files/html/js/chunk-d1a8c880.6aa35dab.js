(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d1a8c880"],{"169a":function(t,e,i){"use strict";var n=i("5530"),s=i("2909"),a=i("ade3"),o=(i("a9e3"),i("498a"),i("caad"),i("2532"),i("d3b7"),i("7db0"),i("368e"),i("480e1")),r=i("4ad4"),l=i("b848"),c=i("75eb"),d=(i("3c93"),i("a9ad")),u=i("7560"),h=i("f2e7"),v=i("58df8"),f=Object(v["a"])(d["a"],u["a"],h["a"]).extend({name:"v-overlay",props:{absolute:Boolean,color:{type:String,default:"#212121"},dark:{type:Boolean,default:!0},opacity:{type:[Number,String],default:.46},value:{default:!0},zIndex:{type:[Number,String],default:5}},computed:{__scrim:function(){var t=this.setBackgroundColor(this.color,{staticClass:"v-overlay__scrim",style:{opacity:this.computedOpacity}});return this.$createElement("div",t)},classes:function(){return Object(n["a"])({"v-overlay--absolute":this.absolute,"v-overlay--active":this.isActive},this.themeClasses)},computedOpacity:function(){return Number(this.isActive?this.opacity:0)},styles:function(){return{zIndex:this.zIndex}}},methods:{genContent:function(){return this.$createElement("div",{staticClass:"v-overlay__content"},this.$slots.default)}},render:function(t){var e=[this.__scrim];return this.isActive&&e.push(this.genContent()),t("div",{staticClass:"v-overlay",on:this.$listeners,class:this.classes,style:this.styles},e)}}),p=f,m=i("80d2"),y=i("2b0e"),g=y["default"].extend().extend({name:"overlayable",props:{hideOverlay:Boolean,overlayColor:String,overlayOpacity:[Number,String]},data:function(){return{animationFrame:0,overlay:null}},watch:{hideOverlay:function(t){this.isActive&&(t?this.removeOverlay():this.genOverlay())}},beforeDestroy:function(){this.removeOverlay()},methods:{createOverlay:function(){var t=new p({propsData:{absolute:this.absolute,value:!1,color:this.overlayColor,opacity:this.overlayOpacity}});t.$mount();var e=this.absolute?this.$el.parentNode:document.querySelector("[data-app]");e&&e.insertBefore(t.$el,e.firstChild),this.overlay=t},genOverlay:function(){var t=this;if(this.hideScroll(),!this.hideOverlay)return this.overlay||this.createOverlay(),this.animationFrame=requestAnimationFrame((function(){t.overlay&&(void 0!==t.activeZIndex?t.overlay.zIndex=String(t.activeZIndex-1):t.$el&&(t.overlay.zIndex=Object(m["v"])(t.$el)),t.overlay.value=!0)})),!0},removeOverlay:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.overlay&&(Object(m["a"])(this.overlay.$el,"transitionend",(function(){t.overlay&&t.overlay.$el&&t.overlay.$el.parentNode&&!t.overlay.value&&!t.isActive&&(t.overlay.$el.parentNode.removeChild(t.overlay.$el),t.overlay.$destroy(),t.overlay=null)})),cancelAnimationFrame(this.animationFrame),this.overlay.value=!1),e&&this.showScroll()},scrollListener:function(t){if("keydown"===t.type){if(["INPUT","TEXTAREA","SELECT"].includes(t.target.tagName)||t.target.isContentEditable)return;var e=[m["y"].up,m["y"].pageup],i=[m["y"].down,m["y"].pagedown];if(e.includes(t.keyCode))t.deltaY=-1;else{if(!i.includes(t.keyCode))return;t.deltaY=1}}(t.target===this.overlay||"keydown"!==t.type&&t.target===document.body||this.checkPath(t))&&t.preventDefault()},hasScrollbar:function(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;var e=window.getComputedStyle(t);return(["auto","scroll"].includes(e.overflowY)||"SELECT"===t.tagName)&&t.scrollHeight>t.clientHeight||["auto","scroll"].includes(e.overflowX)&&t.scrollWidth>t.clientWidth},shouldScroll:function(t,e){if(t.hasAttribute("data-app"))return!1;var i,n,s=e.shiftKey||e.deltaX?"x":"y",a="y"===s?e.deltaY:e.deltaX||e.deltaY;"y"===s?(i=0===t.scrollTop,n=t.scrollTop+t.clientHeight===t.scrollHeight):(i=0===t.scrollLeft,n=t.scrollLeft+t.clientWidth===t.scrollWidth);var o=a<0,r=a>0;return!(i||!o)||(!(n||!r)||!(!i&&!n)&&this.shouldScroll(t.parentNode,e))},isInside:function(t,e){return t===e||null!==t&&t!==document.body&&this.isInside(t.parentNode,e)},checkPath:function(t){var e=Object(m["g"])(t);if("keydown"===t.type&&e[0]===document.body){var i=this.$refs.dialog,n=window.getSelection().anchorNode;return!(i&&this.hasScrollbar(i)&&this.isInside(n,i))||!this.shouldScroll(i,t)}for(var s=0;s<e.length;s++){var a=e[s];if(a===document)return!0;if(a===document.documentElement)return!0;if(a===this.$refs.content)return!0;if(this.hasScrollbar(a))return!this.shouldScroll(a,t)}return!0},hideScroll:function(){this.$vuetify.breakpoint.smAndDown?document.documentElement.classList.add("overflow-y-hidden"):(Object(m["b"])(window,"wheel",this.scrollListener,{passive:!1}),window.addEventListener("keydown",this.scrollListener))},showScroll:function(){document.documentElement.classList.remove("overflow-y-hidden"),window.removeEventListener("wheel",this.scrollListener),window.removeEventListener("keydown",this.scrollListener)}}}),b=i("e4d3"),_=i("21be"),w=i("a293"),C=i("d9bd"),O=Object(v["a"])(l["a"],c["a"],g,b["a"],_["a"],r["a"]);e["a"]=O.extend({name:"v-dialog",directives:{ClickOutside:w["a"]},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:[String,Number],noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:[String,Number]},data:function(){return{activatedBy:null,animate:!1,animateTimeout:-1,stackMinZIndex:200,previousActiveElement:null}},computed:{classes:function(){var t;return t={},Object(a["a"])(t,"v-dialog ".concat(this.contentClass).trim(),!0),Object(a["a"])(t,"v-dialog--active",this.isActive),Object(a["a"])(t,"v-dialog--persistent",this.persistent),Object(a["a"])(t,"v-dialog--fullscreen",this.fullscreen),Object(a["a"])(t,"v-dialog--scrollable",this.scrollable),Object(a["a"])(t,"v-dialog--animated",this.animate),t},contentClasses:function(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator:function(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive:function(t){var e;t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),null==(e=this.previousActiveElement)||e.focus())},fullscreen:function(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created:function(){this.$attrs.hasOwnProperty("full-width")&&Object(C["e"])("full-width",this)},beforeMount:function(){var t=this;this.$nextTick((function(){t.isBooted=t.isActive,t.isActive&&t.show()}))},beforeDestroy:function(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick:function(){var t=this;this.animate=!1,this.$nextTick((function(){t.animate=!0,window.clearTimeout(t.animateTimeout),t.animateTimeout=window.setTimeout((function(){return t.animate=!1}),150)}))},closeConditional:function(t){var e=t.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(e)||this.overlay&&e&&!this.overlay.$el.contains(e))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll:function(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):g.options.methods.hideScroll.call(this)},show:function(){var t=this;!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((function(){t.$nextTick((function(){t.$refs.content.contains(document.activeElement)||(t.previousActiveElement=document.activeElement,t.$refs.content.focus()),t.bind()}))}))},bind:function(){window.addEventListener("focusin",this.onFocusin)},unbind:function(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside:function(t){this.$emit("click:outside",t),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown:function(t){if(t.keyCode===m["y"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;var e=this.getActivator();this.$nextTick((function(){return e&&e.focus()}))}this.$emit("keydown",t)},onFocusin:function(t){if(t&&this.retainFocus){var e=t.target;if(e&&![document,this.$refs.content].includes(e)&&!this.$refs.content.contains(e)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((function(t){return t.contains(e)}))){var i=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),n=Object(s["a"])(i).find((function(t){return!t.hasAttribute("disabled")}));n&&n.focus()}}},genContent:function(){var t=this;return this.showLazyContent((function(){return[t.$createElement(o["a"],{props:{root:!0,light:t.light,dark:t.dark}},[t.$createElement("div",{class:t.contentClasses,attrs:Object(n["a"])({role:"dialog",tabindex:t.isActive?0:void 0,"aria-modal":t.hideOverlay?void 0:"true"},t.getScopeIdAttrs()),on:{keydown:t.onKeydown},style:{zIndex:t.activeZIndex},ref:"content"},[t.genTransition()])])]}))},genTransition:function(){var t=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[t]):t},genInnerContent:function(){var t={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(t.style=Object(n["a"])(Object(n["a"])({},t.style),{},{maxWidth:Object(m["h"])(this.maxWidth),width:Object(m["h"])(this.width)})),this.$createElement("div",t,this.getContentSlot())}},render:function(t){return t("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},[this.genActivator(),this.genContent()])}})},"1d45":function(t,e,i){},"1da1":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));i("d3b7");function n(t,e,i,n,s,a,o){try{var r=t[a](o),l=r.value}catch(c){return void i(c)}r.done?e(l):Promise.resolve(l).then(n,s)}function s(t){return function(){var e=this,i=arguments;return new Promise((function(s,a){var o=t.apply(e,i);function r(t){n(o,s,a,r,l,"next",t)}function l(t){n(o,s,a,r,l,"throw",t)}r(void 0)}))}}},"368e":function(t,e,i){},"3b77":function(t,e,i){"use strict";i("1d45")},"3c93":function(t,e,i){},"96cf":function(t,e,i){var n=function(t){"use strict";var e,i=Object.prototype,n=i.hasOwnProperty,s="function"===typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",o=s.asyncIterator||"@@asyncIterator",r=s.toStringTag||"@@toStringTag";function l(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(L){l=function(t,e,i){return t[e]=i}}function c(t,e,i,n){var s=e&&e.prototype instanceof m?e:m,a=Object.create(s.prototype),o=new N(n||[]);return a._invoke=E(t,i,o),a}function d(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(L){return{type:"throw",arg:L}}}t.wrap=c;var u="suspendedStart",h="suspendedYield",v="executing",f="completed",p={};function m(){}function y(){}function g(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(A([])));w&&w!==i&&n.call(w,a)&&(b=w);var C=g.prototype=m.prototype=Object.create(b);function O(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function i(s,a,o,r){var l=d(t[s],t,a);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"===typeof u&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){i("next",t,o,r)}),(function(t){i("throw",t,o,r)})):e.resolve(u).then((function(t){c.value=t,o(c)}),(function(t){return i("throw",t,o,r)}))}r(l.arg)}var s;function a(t,n){function a(){return new e((function(e,s){i(t,n,e,s)}))}return s=s?s.then(a,a):a()}this._invoke=a}function E(t,e,i){var n=u;return function(s,a){if(n===v)throw new Error("Generator is already running");if(n===f){if("throw"===s)throw a;return T()}i.method=s,i.arg=a;while(1){var o=i.delegate;if(o){var r=k(o,i);if(r){if(r===p)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===u)throw n=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=v;var l=d(t,e,i);if("normal"===l.type){if(n=i.done?f:h,l.arg===p)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n=f,i.method="throw",i.arg=l.arg)}}}function k(t,i){var n=t.iterator[i.method];if(n===e){if(i.delegate=null,"throw"===i.method){if(t.iterator["return"]&&(i.method="return",i.arg=e,k(t,i),"throw"===i.method))return p;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var s=d(n,t.iterator,i.arg);if("throw"===s.type)return i.method="throw",i.arg=s.arg,i.delegate=null,p;var a=s.arg;return a?a.done?(i[t.resultName]=a.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,p):a:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,p)}function $(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach($,this),this.reset(!0)}function A(t){if(t){var i=t[a];if(i)return i.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var s=-1,o=function i(){while(++s<t.length)if(n.call(t,s))return i.value=t[s],i.done=!1,i;return i.value=e,i.done=!0,i};return o.next=o}}return{next:T}}function T(){return{value:e,done:!0}}return y.prototype=g,l(C,"constructor",g),l(g,"constructor",y),y.displayName=l(g,r,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,r,"GeneratorFunction")),t.prototype=Object.create(C),t},t.awrap=function(t){return{__await:t}},O(x.prototype),l(x.prototype,o,(function(){return this})),t.AsyncIterator=x,t.async=function(e,i,n,s,a){void 0===a&&(a=Promise);var o=new x(c(e,i,n,s),a);return t.isGeneratorFunction(i)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},O(C),l(C,r,"Generator"),l(C,a,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){while(e.length){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},t.values=A,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(M),!t)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function s(n,s){return r.type="throw",r.arg=t,i.next=n,s&&(i.method="next",i.arg=e),!!s}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],r=o.completion;if("root"===o.tryLoc)return s("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return s(o.catchLoc,!0);if(this.prev<o.finallyLoc)return s(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return s(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return s(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i];if(s.tryLoc<=this.prev&&n.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var a=s;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),M(i),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var s=n.arg;M(i)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:A(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=n}catch(s){"object"===typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},c08f:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"rounded bg-white v-application",attrs:{"data-app":"true"}},[i("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onSubmit.apply(null,arguments)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("div",{staticClass:"card card-custom card-stretch rounded"},[i("div",{staticClass:"card-header no-border"},[i("router-link",{attrs:{to:{name:"buslist"}}},[i("v-btn",{staticClass:"float-right go-back mb-3",attrs:{small:"",color:"primary"}},[t._v(t._s(t.$t("COMMON.RETURNBUSSLIST")))])],1),i("div",{staticClass:"table-responsive"},[i("table",{staticClass:"table"},[i("thead",[i("tr",{staticClass:"text-white"},[i("th",[t._v(t._s(t.$t("COMMON.NO")))]),i("th",[t._v(t._s(t.$t("COMMON.ASSETS")))]),i("th",[t._v(t._s(t.$t("COMMON.EQUIPMENT")))]),i("th",[t._v(t._s(t.$t("COMMON.DEVICEPROPERTIES")))]),i("th",[t._v(t._s(t.$t("COMMON.CODEMANAGE")))]),i("th",[t._v(t._s(t.$t("COMMON.TITLE25")))]),i("th",[t._v(t._s(t.$t("COMMON.TITLE23")))]),i("th",{attrs:{colspan:"2"}},[t._v(t._s(t.$t("COMMON.TITLE24")))]),i("th",[i("v-btn",{attrs:{color:"primary",small:""},on:{click:t.addEl}},[t._v(t._s(t.$t("COMMON.ADDLINE")))])],1)])]),t._l(t.lists,(function(e,n){return i("tbody",{key:"1-"+e.id},[i("tr",{staticClass:"text-white"},[i("td",[t._v(t._s(n+1))]),i("td",{attrs:{colspan:"7"}},[i("v-text-field",{attrs:{required:"",label:t.$t("COMMON.PLACEHOLDER1")},on:{blur:function(i){return i.preventDefault(),t.asset_addonly(e,[n],"0",1)}},model:{value:e.name,callback:function(i){t.$set(e,"name",i)},expression:"list.name"}})],1),i("td",[i("i",{staticClass:"fa fa-plus-circle text-white mr-2 pointer font-size-20",on:{click:function(e){return t.additem(n)}}}),i("i",{staticClass:"fa fa-minus-circle text-white mr-2 pointer font-size-20",on:{click:function(i){return t.del(n,e.id,1)}}})])]),t._l(e.device,(function(s,a){return i("tr",{key:a,staticClass:"text-white"},[i("td"),i("td",[i("v-text-field",{attrs:{required:"",label:t.$t("COMMON.PLACEHOLDER2")},on:{blur:function(e){return e.preventDefault(),t.device_updateonly(s)}},model:{value:s.name,callback:function(e){t.$set(s,"name",e)},expression:"a.name"}})],1),i("td",[i("el-select",{staticClass:"width-100",attrs:{"popper-append-to-body":!0},on:{change:function(e){return t.changedash(s,[n],a)}},model:{value:s.type,callback:function(e){t.$set(s,"type",e)},expression:"a.type"}},t._l(t.itemarr,(function(t,e){return i("el-option",{key:"2-"+e,attrs:{value:t.id,label:t.device}})})),1)],1),i("td",[i("span",{staticClass:"cursor-pointer",on:{click:function(e){return t.setDervice(n,a)}}},[t._v(t._s(t.$t("COMMON.ATTR")))])]),i("td",{staticClass:"cursor",on:{click:function(e){return t.equipment(s)}}},[t._v(" "+t._s(s.dm)+" ")]),i("td",[i("span",{staticClass:"cursor-pointer",on:{click:function(i){return t.dataadmin(e.name,s.type,n,a,1)}}},[t._v(t._s(t.$t("COMMON.MANAGE")))])]),i("td",[t._v(" "+t._s(t.inDateFormat(s.latesttime/1e6))+" ")]),i("td",{attrs:{colspan:"2"}},t._l(s.dash,(function(e,n){return i("span",{key:n,staticClass:"mr-2 custom-btn my-1"},[t._v(t._s(e.name))])})),0),i("td",[i("i",{staticClass:"fa fa-plus-circle text-white mr-2 pointer font-size-20",on:{click:function(e){return t.addequ(n)}}}),i("i",{staticClass:"fa fa-minus-circle text-white mr-2 pointer font-size-20",on:{click:function(e){return t.del(n,s.id,2,a)}}})])])})),t._l(e.two,(function(s,a){return[i("tr",{staticClass:"text-white"},[i("td",[t._v(t._s(n+1)+"-"+t._s(a+1))]),i("td",{attrs:{colspan:"7"}},[i("v-text-field",{attrs:{required:"",label:t.$t("COMMON.PLACEHOLDER1")},on:{blur:function(i){return i.preventDefault(),t.asset_addonly(s,[n,a],e.id,2)}},model:{value:s.name,callback:function(e){t.$set(s,"name",e)},expression:"item.name"}})],1),i("td",[i("i",{staticClass:"fa fa-plus-circle text-white mr-2 pointer font-size-20",on:{click:function(e){return t.additem2(n,a)}}}),i("i",{staticClass:"fa fa-minus-circle text-white mr-2 pointer font-size-20",on:{click:function(e){return t.del2(n,a,s.id,1)}}})])]),t._l(s.device,(function(e,o){return i("tr",{staticClass:"text-white"},[i("td"),i("td",[i("v-text-field",{attrs:{required:"",label:t.$t("COMMON.PLACEHOLDER2")},on:{blur:function(i){return i.preventDefault(),t.device_updateonly(e)}},model:{value:e.name,callback:function(i){t.$set(e,"name",i)},expression:"c.name"}})],1),i("td",[i("el-select",{staticClass:"width-100",attrs:{"popper-append-to-body":!0},on:{change:function(i){return t.changedash(e,[n,a],o)}},model:{value:e.type,callback:function(i){t.$set(e,"type",i)},expression:"c.type"}},t._l(t.itemarr,(function(t,e){return i("el-option",{key:"3-"+e,attrs:{value:t.name,label:t.device}})})),1)],1),i("td",{staticClass:"cursor",on:{click:function(i){return t.equipment(e)}}},[t._v(" "+t._s(e.dm)+" ")]),i("td",[i("span",{staticClass:"cursor-pointer",on:{click:function(i){return t.dataadmin2(s.name,e.type,n,a,o,2)}}},[t._v(t._s(t.$t("COMMON.MANAGE")))])]),i("td",[t._v(" "+t._s(e.state)+" ")]),i("td",{attrs:{colspan:"2"}},t._l(e.dash,(function(e,n){return i("span",{key:n,staticClass:"mr-2 custom-btn my-1"},[t._v(t._s(e.name))])})),0),i("td",[i("i",{staticClass:"fa fa-plus-circle text-white mr-2 pointer font-size-20",on:{click:function(e){return t.addequ2(n,a)}}}),i("i",{staticClass:"fa fa-minus-circle text-white mr-2 pointer font-size-20",on:{click:function(i){return t.del2(n,a,e.id,2,o)}}})])])})),t._l(s.there,(function(e,o){return[i("tr",{staticClass:"text-white"},[i("td",[t._v(t._s(n+1)+"-"+t._s(a+1)+"-"+t._s(o+1))]),i("td",{attrs:{colspan:"7"}},[i("v-text-field",{attrs:{required:"",label:t.$t("COMMON.PLACEHOLDER1")},on:{blur:function(i){return i.preventDefault(),t.asset_addonly(e,[n,a,o],s.id,3)}},model:{value:e.name,callback:function(i){t.$set(e,"name",i)},expression:"v.name"}})],1),i("td",[i("i",{staticClass:"fa fa-minus-circle text-white mr-2 pointer font-size-20",on:{click:function(i){return t.del3(n,a,e,o,e.id,1)}}})])]),t._l(e.device,(function(s,r){return i("tr",{key:r,staticClass:"text-white"},[i("td"),i("td",[i("v-text-field",{attrs:{required:"",label:t.$t("COMMON.PLACEHOLDER2")},on:{blur:function(e){return e.preventDefault(),t.device_updateonly(s)}},model:{value:s.name,callback:function(e){t.$set(s,"name",e)},expression:"e.name"}})],1),i("td",[i("el-select",{staticClass:"width-100",attrs:{"popper-append-to-body":!0},on:{change:function(e){return t.changedash(s,[n,a,o],r)}},model:{value:s.type,callback:function(e){t.$set(s,"type",e)},expression:"e.type"}},t._l(t.itemarr,(function(t,e){return i("el-option",{key:"4-"+e,attrs:{value:t.name,label:t.device}})})),1)],1),i("td",{staticClass:"cursor",on:{click:function(e){return t.equipment(s)}}},[t._v(" "+t._s(s.dm)+" ")]),i("td",[i("span",{staticClass:"cursor-pointer",on:{click:function(i){return t.dataadmin3(e.name,s.type,n,a,o,r,3)}}},[t._v(t._s(t.$t("COMMON.MANAGE")))])]),i("td",[t._v(" "+t._s(s.state)+" ")]),i("td",{attrs:{colspan:"2"}},t._l(s.dash,(function(e,n){return i("span",{key:n,staticClass:"mr-2 custom-btn my-1"},[t._v(t._s(e.name))])})),0),i("td",[i("i",{staticClass:"fa fa-plus-circle text-white mr-2 pointer font-size-20",on:{click:function(e){return t.addequ3(n,a,r)}}}),i("i",{staticClass:"fa fa-minus-circle text-white mr-2 pointer font-size-20",on:{click:function(i){return t.del3(n,a,e,o,s.id,2,r)}}})])])}))]}))]}))],2)}))],2)])],1)])]),i("v-row",{attrs:{justify:"center"}},[i("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onEqSubmit.apply(null,arguments)}}},[i("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",{staticClass:"card"},[i("v-card-title",[i("h5",{staticClass:"headline text-white"},[t._v(" "+t._s(t.equname)+" "+t._s(t.$t("COMMON.CODEMANAGE"))+" ")])]),i("v-card-text",[i("v-container",[i("v-text-field",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"id"},model:{value:t.equid,callback:function(e){t.equid=e},expression:"equid"}}),i("v-row",{staticClass:"p-4"},[i("v-col",{staticClass:"col-px-0",attrs:{cols:"12"}},[i("div",{staticClass:"text-white"},[t._v(t._s(t.$t("COMMON.AGREEMENT"))+"：")]),i("el-select",{staticClass:"width-100",attrs:{"popper-append-to-body":!1},on:{change:function(e){return t.changeAgreement(t.protocol)}},model:{value:t.protocol,callback:function(e){t.protocol=e},expression:"protocol"}},t._l(t.agreementList,(function(t,e){return i("el-option",{key:"5-"+e,attrs:{value:t.name,label:t.name}})})),1)],1),i("v-col",{staticClass:"col-px-0",attrs:{cols:"12"}},[i("div",{staticClass:"text-white"},[t._v("默认配置：")]),i("div",{staticClass:"defmsg",staticStyle:{padding:"10px","font-size":"8px",background:"rgba(0, 0, 0, 0.3) !important"}},[i("div",{staticClass:"text-white"},[t._v("端口："+t._s(t.port))]),i("div",{staticClass:"text-white"},[t._v("发布主题："+t._s(t.publish))]),i("div",{staticClass:"text-white"},[t._v("订阅主题："+t._s(t.subscribe))]),i("div",{staticClass:"text-white"},[t._v("用户名："+t._s(t.username))]),i("div",{staticClass:"text-white"},[t._v("密码："+t._s(t.password))])])]),i("v-col",{staticClass:"col-px-0",attrs:{cols:"12"}},[i("div",{staticClass:"text-white"},[t._v(" "+t._s(t.$t("COMMON.INTERFACETYPE"))+"： ")]),i("v-text-field",{attrs:{label:"interface"},model:{value:t.interface,callback:function(e){t.interface=e},expression:"interface"}})],1),i("v-col",{staticClass:"col-px-0",attrs:{cols:"12"}},[i("div",{staticClass:"text-white"},[t._v(t._s(t.$t("COMMON.TOKEN"))+"：")]),i("v-text-field",{attrs:{label:"token"},model:{value:t.token,callback:function(e){t.token=e},expression:"token"}})],1),i("div",{staticClass:"text-white"},[t._v(" 提示："+t._s(t.$t("COMMON.PLACEHOLDER33"))+" ")])],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{staticClass:"canclebtn",attrs:{text:""},on:{click:function(e){t.dialog=!1}}},[t._v(t._s(t.$t("COMMON.CLOSE")))]),i("v-btn",{staticClass:"confbtn",attrs:{text:""},on:{click:t.editEqSubmit}},[t._v(t._s(t.$t("COMMON.UPDATE")))])],1)],1)],1)],1)],1),i("v-row",{attrs:{justify:"center"}},[i("v-form",{ref:"form",attrs:{"lazy-validation":""}},[i("v-dialog",{attrs:{"max-width":"800"},model:{value:t.datadialog,callback:function(e){t.datadialog=e},expression:"datadialog"}},[i("v-card",{staticClass:"card"},[i("v-card-title",[i("h5",{staticClass:"headline text-white"},[t._v(" "+t._s(t.dataname)+" "+t._s(t.$t("COMMON.DATAMANAGE"))+" ")])]),i("v-card-text",[i("v-container",[i("table",{staticClass:"table"},[i("thead",[i("tr",{staticClass:"text-white"},[i("th",[t._v(t._s(t.$t("COMMON.FIELDNAME1")))]),i("th",[t._v(t._s(t.$t("COMMON.ATTR1")))]),i("th",[t._v(t._s(t.$t("COMMON.OPERATION")))])])]),i("tbody",t._l(t.fieldarr,(function(e,n){return i("tr",{key:n},[i("td",[i("v-text-field",{attrs:{required:""},on:{blur:function(i){return i.preventDefault(),t.field_updateonly(e,n)}},model:{value:e.field_from,callback:function(i){t.$set(e,"field_from",i)},expression:"item.field_from"}})],1),i("td",[i("select",{directives:[{name:"model",rawName:"v-model",value:e.field_to,expression:"item.field_to"}],staticClass:"optgroup form-control",on:{change:[function(i){var n=Array.prototype.filter.call(i.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"field_to",i.target.multiple?n:n[0])},function(i){return t.field_updateonly(e,n)}]}},t._l(t.atrrarr,(function(n,s){return i("optgroup",{key:s,attrs:{label:n.name}},t._l(n.field,(function(n,a){return i("option",{key:a,domProps:{value:n.key},on:{click:function(i){return t.selectAtrrArr(i,s,a,e)}}},[t._v(" "+t._s(n.name)+" ")])})),0)})),0)]),i("td",[i("v-btn",{attrs:{small:"",color:e.btncolor},on:{click:function(i){return t.fieldclick(n,e.btnevent)}}},[t._v(t._s(e.btnname))])],1)])})),0)])])],1),i("div",{staticStyle:{"margin-left":"50px",color:"#ffffff"}},[t._v(" 提示："+t._s(t.$t("COMMON.PLACEHOLDER34"))+" ")]),i("v-card-actions",[i("v-spacer"),i("v-btn",{staticClass:"canclebtn",attrs:{text:""},on:{click:function(e){t.datadialog=!1}}},[t._v(t._s(t.$t("COMMON.CLOSE")))]),i("v-btn",{staticClass:"confbtn",attrs:{text:""},on:{click:function(e){return t.onDataSubmit(t.fieldarr)}}},[t._v(t._s(t.$t("COMMON.CONFIRM")))])],1)],1)],1)],1)],1),i("v-row",{attrs:{justify:"center"}},[i("v-form",{ref:"form",attrs:{"lazy-validation":""}},[i("v-dialog",{attrs:{"max-width":"800"},model:{value:t.currentDervice.id,callback:function(e){t.$set(t.currentDervice,"id",e)},expression:"currentDervice.id"}},[i("v-card",{staticClass:"card"},[i("v-card-title",{staticClass:"d-flex justify-space-between"},[i("h5",{staticClass:"headline text-white"},[t._v(" "+t._s(t.currentDervice.name)+" "+t._s(t.$t("COMMON.DEVICEPROPERTIES"))+t._s(t.$t("COMMON.MANAGE"))+" ")]),i("div",[i("v-btn",{staticClass:"confbtn",attrs:{text:""},on:{click:function(e){return t.addline()}}},[t._v(t._s(t.$t("COMMON.ADDLINE")))])],1)]),i("v-card-text",[i("v-container",[i("table",{staticClass:"table"},[i("thead",[i("tr",{staticClass:"text-white"},[i("th",[t._v(t._s(t.$t("COMMON.DEVICEPROPERTIES")))]),i("th",[t._v(t._s(t.$t("COMMON.DEVICEPROPERTIESVALUE")))])])]),i("tbody",t._l(t.deriveceType,(function(e,n){return i("tr",{key:n},[i("td",[i("select",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"item.name"}],staticClass:"optgroup form-control",on:{change:[function(i){var n=Array.prototype.filter.call(i.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"name",i.target.multiple?n:n[0])},t.changeSelect],focus:function(i){return t.selectFocus(e.name,n)}}},[i("option",{domProps:{value:"location"}},[t._v(" "+t._s(t.$t("COMMON.DEVICELOCATION"))+" ")]),i("option",{domProps:{value:"d_id"}},[t._v(" "+t._s(t.$t("COMMON.DEVICEID"))+" ")])])]),i("td",[i("v-text-field",{attrs:{required:""},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"item.value"}})],1)])})),0)])])],1),i("div",{staticStyle:{"margin-left":"50px",color:"#ffffff"}}),i("v-card-actions",[i("v-spacer"),i("v-btn",{staticClass:"canclebtn",attrs:{text:""},on:{click:function(e){t.currentDervice={},t.deriveceType=[{name:"",value:""}]}}},[t._v(t._s(t.$t("COMMON.CLOSE")))]),i("v-btn",{staticClass:"confbtn",attrs:{text:""},on:{click:function(e){return t.saveDervice()}}},[t._v(t._s(t.$t("COMMON.CONFIRM")))])],1)],1)],1)],1)],1)],1)},s=[],a=i("1da1"),o=(i("96cf"),i("4de4"),i("d3b7"),i("b0c0"),i("159b"),i("a434"),i("e9c4"),i("854b")),r=i("7b99"),l=i("3de1"),c={data:function(){return{dialog:!1,business_id:"",customer_id:"1",lists:[{name:"",business_id:"",device:[{type:"",dm:"参数",stat:"从未",mapping:[],dash:[]}],two:[]}],itemarr:[],valid:!0,equname:"",equid:"",agreement:"mqtt",agreementList:[{name:"mqtt"},{name:"tcp"}],interface:"json",token:"",protocol:"",port:"",publish:"",subscribe:"",username:"",password:"",datadialog:!1,fieldarr:[{field_from:"",field_to:"",btnname:"新增",btncolor:"primary",btnevent:"add"}],atrrarr:[],dataname:"",index1:"",b1:"",level:"",i1:"",m1:"",d1:"",f1:"",equipmentItem:{},currentDerviceArr:[],currentDervice:{},deriveceType:[{name:"",value:""}],beforeValue:"",beforeIndex:""}},created:function(){console.log("接收值");var t=this.$route.query;console.log(t),this.business_id=t.id,this.lists[0]["business_id"]=t.id,this.lists[0]["customer_id"]=1,this.sbdata(),this.datalist()},methods:{selectFocus:function(t,e){this.beforeValue=t,this.beforeIndex=e},changeSelect:function(t){var e=this,i=t.target.value,n=this.deriveceType.filter((function(t,n){return t.name==i&&e.beforeIndex!=n}));n.length&&(this.$message("该设备属性已存在"),this.deriveceType[this.beforeIndex].name=this.beforeValue),t.srcElement.blur()},setDervice:function(t,e){var i=this;this.currentDerviceArr[0]=t,this.currentDerviceArr[1]=e,r["a"].post(o["f"].local_url+"/device/data",{id:this.lists[t].device[e].id}).then((function(t){var e=t.data;200==e.code&&(""!=e.data.d_id?(i.deriveceType[0].name="d_id",i.deriveceType[0].value=e.data.d_id,""!=e.data.location&&(i.deriveceType.push({name:"location",value:e.data.location}),i.currentDervice=Object.assign({},e.data))):""!=e.data.location?(i.deriveceType[0].name="location",i.deriveceType[0].value=e.data.location,i.currentDervice=Object.assign({},e.data)):i.currentDervice=Object.assign({},e.data))}))},addline:function(){if(2==this.deriveceType.length)return this.$message("最多增加两项配置哦"),!1;this.deriveceType.push({name:"",value:""})},saveDervice:function(){var t=this,e=this.lists[this.currentDerviceArr[0]].device[this.currentDerviceArr[1]],i={};this.deriveceType.forEach((function(t,e){i[t.name]=t.value})),r["a"].post(o["f"].local_url+"/device/update_only",{id:e.id,name:i.name,type:i.type,protocol:i.protocol,location:i.location||"",d_id:i.d_id||""}).then((function(e){var i=e.data;200==i.code&&(t.currentDervice={},t.deriveceType=[{name:"",value:""}])}))},normalizer:function(t){return{id:t.id,label:t.name}},inDateFormat:function(t){if(""==t||null==t||void 0==t||!t)return"从未";var e=(new Date).getTime()/1e3,i="从未";return i=e-t<60?"刚刚":e-t<120?"一分钟以前":e-t<300?"五分钟以前":e-t<600?"十分钟以前":e-t<1800?"半小时以前":e-t<3600?"一小时以前":Object(l["b"])(t),i},selectAtrrArr:function(t,e,i,n){var s=this.atrrarr[e];n["symbol"]=s.field[i]["symbol"],console.log(t)},addEl:function(){var t={id:0,name:"",business_id:this.business_id,device:[{type:"",dm:"参数",state:"从未",mapping:[],dash:[]}],two:[]};this.lists.push(t)},additem:function(t){console.log(t);var e={id:0,name:"",business_id:this.business_id,device:[{type:"",dm:"参数",state:"从未",mapping:[],dash:[]}],there:[]},i=this.lists[t];i["two"]=[],i["two"].push(e),this.lists.splice(t,1,i),console.log(this.lists)},addequ:function(t){var e={type:"",dm:"参数",state:"从未",mapping:[],dash:[],id:""},i=this.lists[t].id;this.device_addonly(i).then((function(t){e.id=t})),this.lists[t]["device"].push(e)},del:function(t,e,i,n){var s=this;if(this.lists[t]["two"]&&this.lists[t]["two"].length&&1==i)alert(this.$t("COMMON.TITLE5"));else{var a=confirm(this.$t("COMMON.TITLE4"));1==a&&(void 0==e||0==e?(console.log("删除成功！"),1==i?this.lists.splice(t,1):this.lists[t]["device"].splice(n,1)):r["a"].post(o["f"].local_url+"/asset/delete",{id:e,type:i}).then((function(e){var a=e.data;console.log("删除一级内容"),console.log(a),200==a.code?1==i?s.lists.splice(t,1):s.lists[t]["device"].splice(n,1):401==a.code&&s.$store.dispatch(o["c"]).then((function(){}))})))}},additem2:function(t,e){var i={id:0,name:"",business_id:this.business_id,device:[{type:"",dm:"参数",state:"从未",dash:[]}]};this.lists[t]["two"][e]["there"].push(i)},addequ2:function(t,e){var i={type:"",dm:"参数",state:"从未",mapping:[],dash:[],id:""},n=this.lists[t]["two"][e].id;this.device_addonly(n).then((function(t){i.id=t})),this.lists[t]["two"][e]["device"].push(i)},del2:function(t,e,i,n,s){var a=this;if(this.lists[t]["two"][e]["there"]&&0!=this.lists[t]["two"][e]["there"].length)alert(this.$t("COMMON.TITLE6"));else{var l=confirm(this.$t("COMMON.TITLE4"));1==l&&(console.log("二级删除"),void 0==i||0==i?(console.log("删除成功！"),1==n?this.lists[t]["two"].splice(e,1):this.lists[t]["two"][e]["device"].splice(s,1)):r["a"].post(o["f"].local_url+"/asset/delete",{id:i,type:n}).then((function(i){var r=i.data;console.log("删除二级内容"),console.log(r),200==r.code?1==n?a.lists[t]["two"].splice(e,1):a.lists[t]["two"][e]["device"].splice(s,1):401==r.code&&a.$store.dispatch(o["c"]).then((function(){}))})))}},addequ3:function(t,e,i){console.log(this.lists);var n={type:"",dm:"参数",state:"从未",mapping:[],dash:[],id:""},s=this.lists[t]["two"][e]["there"][i].id;this.device_addonly(s).then((function(t){n.id=t})),this.lists[t]["two"][e]["there"][i]["device"].push(n)},del3:function(t,e,i,n,s,a,l){var c=this,d=confirm(this.$t("COMMON.TITLE4"));1==d&&(void 0==s||0==s?(console.log("删除成功！"),1==a?this.lists[t]["two"][e]["there"].splice(n,1):this.lists[t]["two"][e]["there"][n]["device"].splice(l,1)):r["a"].post(o["f"].local_url+"/asset/delete",{id:s,type:a}).then((function(i){var s=i.data;console.log("删除一级内容"),console.log(s),200==s.code?1==a?c.lists[t]["two"][e]["there"].splice(n,1):c.lists[t]["two"][e]["there"][n]["device"].splice(l,1):401==s.code&&c.$store.dispatch(o["c"]).then((function(){}))})))},asset_addonly:function(t,e,i,n){var s=this;t["id"]?r["a"].post(o["f"].local_url+"/asset/update_only",{id:t.id,name:t.name,business_id:t.business_id,tier:n,parent_id:i}):r["a"].post(o["f"].local_url+"/asset/add_only",{name:t.name,business_id:t.business_id,tier:n,parent_id:i}).then((function(t){var i=t.data;if(200===i.code){var n=i.data.id;s.device_addonly(n).then((function(t){switch(e.length){case 1:s.lists[e[0]].id=n,s.lists[e[0]].device[0].id=t;break;case 2:s.lists[e[0]].two[e[1]].id=n,s.lists[e[0]].two[e[1]].device[0].id=t;break;case 3:s.lists[e[0]].two[e[1]].three[e[3]].id=n,s.lists[e[0]].two[e[1]].three[e[3]].device[0].id=t;break}})),console.log("--this.lists---",s.lists)}}))},device_addonly:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].post(o["f"].local_url+"/device/add_only",{asset_id:e,token:"",type:"",name:"empty",extension:"",protocol:""}).then((function(t){var e=t.data;if(200===e.code)return e.data.id}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),device_updateonly:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.log(t),r["a"].post(o["f"].local_url+"/device/update_only",{id:t.id,name:t.name,type:t.type,protocol:t.protocol}).then((function(t){var n=t.data;if(i.length>0){var s=i[0],a=i[1];switch(s.length){case 1:e.lists[s[0]]["device"][a]["dash"]=n.data.dash;break;case 2:e.lists[s[0]]["two"][s[1]]["device"][a]["dash"]=n.data.dash;break;case 3:e.lists[s[0]]["two"][s[1]]["there"][s[2]]["device"][a]["dash"]=n.data.dash;break}}}))},field_updateonly:function(t,e){},datalist:function(){var t=this;r["a"].post(o["f"].local_url+"/asset/list",{business_id:this.business_id}).then((function(e){var i=e.data;if(console.log("资产编辑列表"),console.log(i),200==i.code){var n=i.data;n.length>0&&(console.log(n),t.lists=n)}else t.$store.dispatch(o["c"]).then((function(){}))})).catch((function(t){var e=t.response;console.log(e)}))},changeAgreement:function(t){this.protocol=t},sbdata:function(){var t=this;r["a"].post(o["f"].local_url+"/asset/index").then((function(e){var i=e.data;if(200==i.code){var n={id:"-1",name:"无",device:"无"},s=i.data;s.unshift(n),t.itemarr=s}else 401==i.code&&t.$store.dispatch(o["c"]).then((function(){}))}))},onSubmit:function(t){var e=this,i=JSON.stringify(this.lists);r["a"].post(o["f"].local_url+"/asset/edit",{data:i}).then((function(t){var i=t.data;console.log("提交资产"),console.log(i),200==i.code?(console.log("添加成功！"),e.$router.push({name:"buslist"})):401==i.code&&e.$store.dispatch(o["c"]).then((function(){}))}))},equipment:function(t){var e=this,i=this;console.log(t),this.equname=t.name,this.equid=t.id,console.log("item",t),this.equid?r["a"].post(o["f"].local_url+"/index/show",{did:this.equid}).then((function(t){var n=t.data;console.log("获取设备tooken"),console.log(n),200==n.code?(n.data?(i.token=n.data.token,i.protocol=n.data.protocol,i.port=n.data.port,i.publish=n.data.publish,i.subscribe=n.data.subscribe,i.username=n.data.username,i.password=n.data.password):(i.token="",i.protocol=""),i.dialog=!0):401==n.code&&e.$store.dispatch(o["c"]).then((function(){}))})):this.dialog=!0},onEqSubmit:function(t){var e=this.equid,i=this.agreement,n=this.interface,s=this.token;console.log(e+"|"+i+"|"+n+"|"+s)},changedash:function(t,e,i){if(this.device_updateonly(t,[e,i]),-1==t.type)switch(e.length){case 1:this.lists[e[0]]["device"][i]["dash"]="",this.lists[e[0]]["device"][i]["dm"]="",this.lists[e[0]]["device"][i]["state"]="";break;case 2:this.lists[e[0]]["two"][e[1]]["device"][i]["dash"]="",this.lists[e[0]]["two"][e[1]]["device"][i]["dm"]="",this.lists[e[0]]["two"][e[1]]["device"][i]["state"]="";break;case 3:this.lists[e[0]]["two"][e[1]]["there"][e[2]]["device"][i]["dash"]="",this.lists[e[0]]["two"][e[1]]["there"][e[2]]["device"][i]["dm"]="",this.lists[e[0]]["two"][e[1]]["there"][e[2]]["device"][i]["state"]="";break}},dataadmin:function(t,e,i,n,s){if(console.log(this.lists[i]["device"][n]),this.lists[i]["device"][n]["mapping"].length>0)for(var a=0;a<this.lists[i]["device"][n]["mapping"].length;a++)0==a?(this.lists[i]["device"][n]["mapping"][a]["btnname"]="新增",this.lists[i]["device"][n]["mapping"][a]["btncolor"]="primary",this.lists[i]["device"][n]["mapping"][a]["btnevent"]="add"):(this.lists[i]["device"][n]["mapping"][a]["btnname"]="删除",this.lists[i]["device"][n]["mapping"][a]["btncolor"]="error",this.lists[i]["device"][n]["mapping"][a]["btnevent"]="del");else this.lists[i]["device"][n]["mapping"]=[{field_from:"",field_to:"",btnname:"新增",btncolor:"primary",btnevent:"add"}];var o=this.lists[i]["device"][n];this.fieldarr=this.lists[i]["device"][n]["mapping"],this.index1=i,this.b1=n,this.level=s,this.fieldsj(e),this.dataname=o.name,this.datadialog=!0},dataadmin2:function(t,e,i,n,s,a){if(this.lists[i]["two"][n]["device"][s]["mapping"].length>0)for(var o=0;o<this.lists[i]["two"][n]["device"][s]["mapping"].length;o++)0==o?(this.lists[i]["two"][n]["device"][s]["mapping"][o]["btnname"]="新增",this.lists[i]["two"][n]["device"][s]["mapping"][o]["btncolor"]="primary",this.lists[i]["two"][n]["device"][s]["mapping"][o]["btnevent"]="add"):(this.lists[i]["two"][n]["device"][s]["mapping"][o]["btnname"]="删除",this.lists[i]["two"][n]["device"][s]["mapping"][o]["btncolor"]="error",this.lists[i]["two"][n]["device"][s]["mapping"][o]["btnevent"]="del");else this.lists[i]["two"][n]["device"][s]["mapping"]=[{field_from:"",field_to:"",btnname:"新增",btncolor:"primary",btnevent:"add"}];this.fieldarr=this.lists[i]["two"][n]["device"][s]["mapping"],this.index1=i,this.i1=n,this.d1=s,this.level=a,this.fieldsj(e),this.dataname=t,this.datadialog=!0},dataadmin3:function(t,e,i,n,s,a,o){if(1==this.lists[i]["two"][n]["there"][s]["device"][a]["disabled"]){if(this.lists[i]["two"][n]["there"][s]["device"][a]["mapping"].length>0)for(var r=0;r<this.lists[i]["two"][n]["there"][s]["device"][a]["mapping"].length;r++)0==r?(this.lists[i]["two"][n]["there"][s]["device"][a]["mapping"][r]["btnname"]="新增",this.lists[i]["two"][n]["there"][s]["device"][a]["mapping"][r]["btncolor"]="primary",this.lists[i]["two"][n]["there"][s]["device"][a]["mapping"][r]["btnevent"]="add"):(this.lists[i]["two"][n]["there"][s]["device"][a]["mapping"][r]["btnname"]="删除",this.lists[i]["two"][n]["there"][s]["device"][a]["mapping"][r]["btncolor"]="error",this.lists[i]["two"][n]["there"][s]["device"][a]["mapping"][r]["btnevent"]="del");else this.lists[i]["two"][n]["there"][s]["device"][a]["mapping"]=[{field_from:"",field_to:"",btnname:"新增",btncolor:"primary",btnevent:"add"}];this.fieldarr=this.lists[i]["two"][n]["there"][s]["device"][a]["mapping"]}else this.fieldarr=[{field_from:"",field_to:"",btnname:"新增",btncolor:"primary",btnevent:"add"}];this.index1=i,this.i1=n,this.m1=s,this.f1=a,this.level=o,this.fieldsj(e),this.dataname=t,this.datadialog=!0},fieldsj:function(t){var e=this;r["a"].post(o["f"].local_url+"/structure/field",{field:t}).then((function(t){var i=t.data;console.log("属性数据"),console.log(i),200==i.code?(e.atrrarr=i.data,console.log(e.fieldarr)):401==i.code&&e.$store.dispatch(o["c"]).then((function(){}))}))},fieldclick:function(t,e){if("add"==e){var i={field_from:"",field_to:"",btnname:"删除",btncolor:"error",btnevent:"del"};this.fieldarr.push(i)}else{var n=confirm("确定要删除该数据吗？");1==n&&(1==this.level?void 0!==this.lists[this.index1]["device"][this.b1]["mapping"][t]["id"]&&this.deletefield(this.lists[this.index1]["device"][this.b1]["mapping"][t]["id"]):2==this.level?void 0!==this.lists[this.index1]["two"][this.i1]["device"][this.d1]["mapping"][t]["id"]&&this.deletefield(this.lists[this.index1]["two"][this.i1]["device"][this.d1]["mapping"][t]["id"]):void 0!==this.lists[this.index1]["two"][this.i1]["there"][this.m1]["device"][this.f1]["mapping"][t]["id"]&&this.deletefield(this.lists[this.index1]["two"][this.i1]["there"][this.m1]["device"][this.f1]["mapping"][t]["id"]),this.fieldarr.splice(t,1))}},deletefield:function(t){var e=this;r["a"].post(o["f"].local_url+"/structure/delete",{id:t}).then((function(t){var i=t.data;console.log("删除数据管理"),console.log(i),200==i.code?(console.log("删除成功"),e.datalist()):401==i.code&&e.$store.dispatch(o["c"]).then((function(){}))}))},onDataSubmit:function(t){var e=this;console.log("---fieldarr---",t);var i="",n=[];i=1==this.level?this.lists[this.index1]["device"][this.b1].id:2==this.level?this.lists[this.index1]["two"][this.i1]["device"][this.d1].id:this.lists[this.index1]["two"][this.i1]["there"][this.m1]["device"][this.f1].id;for(var s=0;s<t.length;s++){var a={field_from:t[s].field_from,field_to:t[s].field_to,device_id:i};t[s]["id"]&&(a["id"]=t[s]["id"]),n.push(a)}r["a"].post(o["f"].local_url+"/field/add_only",{data:n}).then((function(t){var i=t.data;if(200==i.code)for(var n=0;n<i.data.length;n++)1==e.level?e.lists[e.index1]["device"][e.b1]["mapping"][n]["id"]=i.data[n].id:2==e.level?e.lists[e.index1]["two"][e.i1]["device"][e.d1]["mapping"][n]["id"]=i.data[n].id:e.lists[e.index1]["two"][e.i1]["there"][e.m1]["device"][e.f1]["mapping"][n].id=i.data[n]["id"]})),this.datadialog=!1},editEqSubmit:function(){var t=this;if(this.equid){var e=confirm(this.$t("COMMON.TEXT44"));1==e&&(console.log(this.equid),console.log(this.token),r["a"].post(o["f"].local_url+"/device/edit",{id:this.equid,token:this.token,protocol:this.protocol}).then((function(e){var i=e.data;200==i.code?(t.dialog=!1,t.sbdata(),t.datalist(),t.dialog=!1):401==i.code&&t.$store.dispatch(o["c"]).then((function(){}))})))}else this.dialog=!1}}},d=c,u=(i("3b77"),i("2877")),h=i("6544"),v=i.n(h),f=i("8336"),p=i("b0afa"),m=i("99d9"),y=i("62ad"),g=i("a523"),b=i("169a"),_=i("4bd4"),w=i("0fd9"),C=i("2fa4"),O=i("8654"),x=Object(u["a"])(d,n,s,!1,null,"2bda73cc",null);e["default"]=x.exports;v()(x,{VBtn:f["a"],VCard:p["a"],VCardActions:m["a"],VCardText:m["b"],VCardTitle:m["c"],VCol:y["a"],VContainer:g["a"],VDialog:b["a"],VForm:_["a"],VRow:w["a"],VSpacer:C["a"],VTextField:O["a"]})}}]);
//# sourceMappingURL=chunk-d1a8c880.6aa35dab.js.map